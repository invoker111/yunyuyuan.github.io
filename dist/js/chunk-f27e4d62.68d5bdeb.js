(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f27e4d62"],{"1a9f":function(n,t,i){},4194:function(n,t,i){"use strict";var e=i("1c8b"),r=i("5dfd").find,a=i("258f"),o=i("ff9c"),s="find",f=!0,c=o(s);s in[]&&Array(1)[s]((function(){f=!1})),e({target:"Array",proto:!0,forced:f||!c},{find:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}}),a(s)},d1fdb:function(n,t,i){"use strict";i.r(t);var e=function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"config",attrs:{flex:""}},[i("div",{staticClass:"head",attrs:{flex:""}},[i("svg-icon",{attrs:{name:"config"}}),i("b",[n._v("修改配置信息")])],1),i("div",{staticClass:"list",attrs:{flex:""}},[n._l(n.keys,(function(t){return i("float-input",{attrs:{name:t,value:n.info[t]||"",id:t,size:1,isArea:"describe"===t},on:{input:n.input}})})),i("label",{attrs:{flex:""}},[i("span",{class:{active:"img"===n.info.backgroundImg},on:{click:function(t){return n.changeBg("img")}}},[n._v("图片背景")]),i("span",{class:{active:"color"===n.info.backgroundImg},on:{click:function(t){return n.changeBg("color")}}},[n._v("彩色背景")]),i("span",{class:{active:"random"===n.info.backgroundImg},on:{click:function(t){return n.changeBg("random")}}},[n._v("随机")])]),i("div",{staticClass:"friends",attrs:{flex:""}},[n._l(n.info.friends,(function(t){return i("div",{key:t.github,staticClass:"item",attrs:{flex:""}},[i("float-input",{attrs:{name:"简介",value:t.summary,id:t.github,size:.85},on:{input:n.friendsSummary}}),i("float-input",{attrs:{name:"github名字",value:t.github,id:t.github,size:.85},on:{input:n.friendsGithub}}),i("float-input",{attrs:{name:"网站",value:t.site,id:t.github,size:.85},on:{input:n.friendsSite}}),i("single-button",{staticClass:"del-btn",attrs:{text:"删除"},nativeOn:{click:function(i){return n.friendsDel(t)}}})],1)})),i("loading-button",{attrs:{loading:!1,icon:"add",text:"添加",size:1.1},nativeOn:{click:function(t){return n.friendsNew(t)}}})],2)],2),i("loading-button",{attrs:{loading:n.updating,text:"上传",icon:"save"},nativeOn:{click:function(t){return n.commitConfig(t)}}})],1)},r=[],a=(i("4194"),i("ecb4"),i("77ad"),i("ea69"),i("e18c"),i("1c2e"),i("af86"),i("52ef")),o=(i("6a61"),i("cf7f"));function s(n){if(Array.isArray(n))return n}i("f3dd"),i("0a51"),i("9b11"),i("96db");function f(n,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n)){var i=[],e=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(e=(o=s.next()).done);e=!0)if(i.push(o.value),t&&i.length===t)break}catch(f){r=!0,a=f}finally{try{e||null==s["return"]||s["return"]()}finally{if(r)throw a}}return i}}var c=i("3846");function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(n,t){return s(n)||f(n,t)||Object(c["a"])(n,t)||u()}var l=i("44b8"),g=i("fa7d"),h=i("8e8da"),b=i("2a7d"),m={name:"Config",components:{SingleButton:b["a"],LoadingButton:h["a"],FloatInput:l["a"]},data:function(){return{updating:!1,info:{},keys:["name","describe","copyright","github","bilibili","email"]}},computed:{config:function(){return this._config()},gitUtil:function(){return this._gitUtil()}},watch:{config:{immediate:!0,deep:!0,handler:function(){this.info=JSON.parse(JSON.stringify(this.config))}}},inject:["_config","_gitUtil"],methods:{input:function(n){this.info[n[0]]=n[1]},changeBg:function(n){this.info.backgroundImg=n},friendsSummary:function(n){var t=d(n,2),i=t[0],e=t[1];this.info.friends.find((function(n){return n.github===i})).summary=e},friendsGithub:function(n){var t=d(n,2),i=t[0],e=t[1];this.info.friends.find((function(n){return n.github===e}))?this.$message.warning("github不能重复"):this.info.friends.find((function(n){return n.github===i})).github=e},friendsSite:function(n){var t=d(n,2),i=t[0],e=t[1];this.info.friends.find((function(n){return n.github===i})).site=e},friendsDel:function(n){this.info.friends.splice(this.info.friends.indexOf(n),1)},friendsNew:function(){this.info.friends.push({summary:"",github:this.info.friends.length.toString(),site:""})},commitConfig:function(){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var i,e,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.gitUtil){t.next=13;break}n.updating=!0,i=Object(a["a"])(n.keys);try{for(i.s();!(e=i.n()).done;)r=e.value,n.config[r]=n.info[r]}catch(s){i.e(s)}finally{i.f()}return n.config.backgroundImg=n.info.backgroundImg,n.config.friends=n.info.friends.slice(),t.next=8,n.gitUtil.updateJsonFile("config.json",n.config);case 8:o=t.sent,n.updating=!1,o[0]?n.$message.success("更新成功!"):n.$message.error(Object(g["c"])(o[1])),t.next=15;break;case 13:n.$message.warning("请先登录!"),n.$emit("login");case 15:case"end":return t.stop()}}),t)})))()}}},v=m,p=(i("d26a"),i("9ca4")),y=Object(p["a"])(v,e,r,!1,null,"256ee54f",null);t["default"]=y.exports},d26a:function(n,t,i){"use strict";var e=i("1a9f"),r=i.n(e);r.a}}]);