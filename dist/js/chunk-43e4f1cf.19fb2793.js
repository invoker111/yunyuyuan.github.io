(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43e4f1cf"],{"0d7a":function(e,t,n){"use strict";var a=n("b2a2"),r=n("8a1c"),i=n("857c"),s=n("2732"),c=n("ef4c"),l=n("38eb"),u=n("d88d"),o=n("59da"),g=n("5139"),d=n("efe2"),f=[].push,h=Math.min,v=4294967295,b=!d((function(){return!RegExp(v,"y")}));a("split",2,(function(e,t,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var a=String(s(this)),i=void 0===n?v:n>>>0;if(0===i)return[];if(void 0===e)return[a];if(!r(e))return t.call(a,e,i);var c,l,u,o=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,b=new RegExp(e.source,d+"g");while(c=g.call(b,a)){if(l=b.lastIndex,l>h&&(o.push(a.slice(h,c.index)),c.length>1&&c.index<a.length&&f.apply(o,c.slice(1)),u=c[0].length,h=l,o.length>=i))break;b.lastIndex===c.index&&b.lastIndex++}return h===a.length?!u&&b.test("")||o.push(""):o.push(a.slice(h)),o.length>i?o.slice(0,i):o}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=s(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,r,n):a.call(String(r),t,n)},function(e,r){var s=n(a,e,this,r,a!==t);if(s.done)return s.value;var g=i(e),d=String(this),f=c(g,RegExp),p=g.unicode,m=(g.ignoreCase?"i":"")+(g.multiline?"m":"")+(g.unicode?"u":"")+(b?"y":"g"),x=new f(b?g:"^(?:"+g.source+")",m),w=void 0===r?v:r>>>0;if(0===w)return[];if(0===d.length)return null===o(x,d)?[d]:[];var k=0,T=0,_=[];while(T<d.length){x.lastIndex=b?T:0;var $,y=o(x,b?d:d.slice(T));if(null===y||($=h(u(x.lastIndex+(b?0:T)),d.length))===k)T=l(d,T,p);else{if(_.push(d.slice(k,T)),_.length===w)return _;for(var j=1;j<=y.length-1;j++)if(_.push(y[j]),_.length===w)return _;T=k=$}}return _.push(d.slice(k)),_}]}),!b)},"592a":function(e,t,n){"use strict";var a=n("6444"),r=n.n(a);r.a},6444:function(e,t,n){},"84bc":function(e,t,n){"use strict";var a=n("1c8b"),r=n("5dfd").every,i=n("d7e1"),s=n("ff9c"),c=i("every"),l=s("every");a({target:"Array",proto:!0,forced:!c||!l},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},9302:function(e,t,n){"use strict";var a=n("1c8b"),r=n("692f"),i=n("da10"),s=n("d7e1"),c=[].join,l=r!=Object,u=s("join",",");a({target:"Array",proto:!0,forced:l||!u},{join:function(e){return c.call(i(this),void 0===e?",":e)}})},b211:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"version"},[n("div",{staticClass:"new",attrs:{flex:""}},[n("loading-button",{class:{disabled:!e.inited},attrs:{loading:e.creating,text:"创建新版本: "+e.newTag,icon:"version",size:1.6},nativeOn:{click:function(t){return e.createRelease(t)}}})],1),n("div",{staticClass:"tags"},[n("div",{staticClass:"operate",attrs:{flex:""}},[n("a",[e._v(e._s(e.deletingTag.state))]),n("single-button",{staticClass:"del-btn",attrs:{text:"删除",deleting:e.deletingTag.b},nativeOn:{click:function(t){return e.deleteTag(t)}}}),n("label",{staticClass:"checkbox",class:{active:e.allSelected},on:{click:e.changeSelectAll}}),n("span",[e._v("全选")])],1),e.inited?n("table",[e._m(0),n("tbody",e._l(e.tags,(function(t){return n("tr",{key:t.ref,class:{last:t.last},attrs:{title:t.last?"最新的版本":""}},[n("th",{staticClass:"ref"},[e._v(e._s(t.ref.replace(/^.*?([^\/]*)$/,"$1")))]),n("th",{staticClass:"sha"},[e._v(e._s(t.object.sha))]),n("th",{staticClass:"select"},[n("label",{staticClass:"checkbox",class:{active:t.selected},on:{click:function(e){t.selected=!t.selected}}})])])})),0)]):n("div",{staticClass:"init-load",attrs:{flex:""}},[n("svg-icon",{attrs:{name:"loading"}})],1)])])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("ref")]),n("th",[e._v("sha")]),n("th",[e._v("选择")])])])}],i=(n("84bc"),n("56ea"),n("fe59"),n("9302"),n("2eeb"),n("d497"),n("e18c"),n("e35a"),n("1c2e"),n("5e9f"),n("0d7a"),n("08ba"),n("6a61"),n("cf7f")),s=n("fa7d"),c=n("8e8da"),l=n("2a7d"),u={name:"Version",components:{SingleButton:l["a"],LoadingButton:c["a"]},data:function(){return{inited:!1,creating:!1,deletingTag:{b:!1,state:""},tags:[]}},computed:{gitUtil:function(){return this._gitUtil()},allSelected:function(){return this.tags.every((function(e){return e.selected}))},newTag:function(){var e=0;return this.tags.forEach((function(t){e=Math.max(e,parseInt(t.ref.replace(/^.*?v([\d.]*)$/,"$1").replace(/\./g,"")))})),e=(e+1).toString(),"v"+(new Array(3-e.length).fill("0").join("")+e).split("").join(".")}},created:function(){this.getTag()},inject:["_gitUtil"],methods:{getTag:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.gitUtil){t.next=8;break}return t.next=3,e.gitUtil.getTag();case 3:n=t.sent,n[0]?(n[1].map((function(e){e.selected=!1})),e.tags=n[1]):e.$message.error(Object(s["c"])(n[1])),e.inited=!0,t.next=10;break;case 8:e.$message.warning("请先登录!"),e.$emit("login");case 10:case"end":return t.stop()}}),t)})))()},createRelease:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.creating&&e.inited){t.next=2;break}return t.abrupt("return");case 2:if(!e.gitUtil){t.next=11;break}return e.creating=!0,t.next=6,e.gitUtil.createRelease(e.newTag);case 6:n=t.sent,n[0]?(e.$message.success("创建成功!"),e.getTag()):e.$message.error(Object(s["c"])(n[1])),e.creating=!1,t.next=13;break;case 11:e.$message.warning("请先登录!"),e.$emit("login");case 13:case"end":return t.stop()}}),t)})))()},changeSelectAll:function(){var e=!this.allSelected;this.tags.map((function(t){t.selected=e}))},deleteTag:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.deletingTag.b&&e.tags.some((function(e){return e.selected}))){t.next=2;break}return t.abrupt("return");case 2:if(!e.allSelected||confirm("确认删除全部版本?若如此,网站将会无法使用")){t.next=4;break}return t.abrupt("return");case 4:if(!e.gitUtil){t.next=21;break}return e.deletingTag={b:!0,state:"正在删除..."},n=[],e.tags.forEach((function(e){e.selected&&n.push(e.ref)})),t.next=10,e.gitUtil.deleteTag(n,e.deletingTag);case 10:if(a=t.sent,!a[0]){t.next=17;break}return e.$message.success("删除成功"),t.next=15,e.getTag();case 15:t.next=18;break;case 17:e.$message.error(Object(s["c"])(a[1]));case 18:e.deletingTag={b:!1,state:""},t.next=23;break;case 21:e.$message.warning("请先登录!"),e.$emit("login");case 23:case"end":return t.stop()}}),t)})))()}}},o=u,g=(n("592a"),n("9ca4")),d=Object(g["a"])(o,a,r,!1,null,"7d9a12ca",null);t["default"]=d.exports},d497:function(e,t,n){"use strict";var a=n("1c8b"),r=n("5dfd").some,i=n("d7e1"),s=n("ff9c"),c=i("some"),l=s("some");a({target:"Array",proto:!0,forced:!c||!l},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);